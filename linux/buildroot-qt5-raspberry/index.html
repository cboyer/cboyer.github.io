<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="HandheldFriendly" content="True">
  <title>Interface graphique avec Buildroot, Qt5 et Raspberry Pi 3 - C. Boyer</title>
  <meta name="description" content="<p>Développement d'une interface graphique Qt5/QML sur Raspberry Pi 3 avec Buildroot.</p>" />
  <meta name="author" content="C. Boyer" />
  <meta name="keywords" content="Buildroot, Qt5, QML, Raspberry, Linux, EGL, OpenGLES, eglfs, eglfs_brcm, eglfs_kms" />
  <link rel="canonical" href="https://cboyer.github.io/linux/buildroot-qt5-raspberry" />
  <meta property="og:title" content="Interface graphique avec Buildroot, Qt5 et Raspberry Pi 3 - C. Boyer" />
  <meta property="og:locale" content="fr_CA" />
  <meta property="og:description" content="<p>Développement d'une interface graphique Qt5/QML sur Raspberry Pi 3 avec Buildroot.</p>" />
  <meta property="og:site_name" content="cboyer.github.io" />
  <meta property="og:type" content="website" />
  <meta property="og:updated_time" content="2021-07-23T17:53:00-04:00" />
  <meta property="article:published_time" content="2021-07-22T11:04:34-04:00" />
  <meta property="article:modified_time" content="2021-07-23T17:53:00-04:00" />
  <meta name="robots" content="index,follow">
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <link href="https://cboyer.github.io/atom.xml" rel="alternate" type="application/atom+xml" title="Flux RSS" />
  <style>
    body { margin: 1em; }
    img { max-width: 100%; height: auto; }
    table { margin-top: 1em; }
    @media (min-width: 42em) { body { margin: 1em auto; max-width: 40em; } }
    ul { list-style: none; padding: 0;}
    p code { font-size: 1.24em; }
  </style>
  <style>pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */</style>
</head>
<body>
  <h1>Interface graphique avec Buildroot, Qt5 et Raspberry Pi 3</h1>
  <em>Publié le 2021-07-22, dernière mise à jour: 2021-07-23</em>
<p>L'article a été rédigé en utilisant un Raspberry Pi 3 avec Buildroot 2021.05-514-g74adec4f3a qui contient Qt5 5.15.2 et un noyau 5.10. Le Raspberry est connecté à un télévieur via HDMI. L'objectif est d'obtenir un système minimaliste Linux sans serveur X permettant d'exécuter une application graphique tout en bénéficiant de l'accélération matérielle.</p>
<ul>
<li><a href="#eglfs_brcm">Utiliser eglfs_brcm comme backend</a></li>
<li><a href="#eglfs_kms">Utiliser eglfs_kms comme backend au lieu de eglfs_brcm</a></li>
</ul>
<h2 id="utiliser-eglfs_brcm-comme-backend"><a name="eglfs_brcm"></a>Utiliser eglfs_brcm comme backend</h2>
<p>Le backend <code>eglfs_brcm</code> repose sur les pilotes graphiques propriétaires Broadcom afin de fournir un support pour OpenGLES/EGL avec les fichiers <code>/usr/lib/libbrcmEGL.so</code> et <code>/usr/lib/libbrcmGLESv2.so</code>. Ceux-ci sont fournis par le package <code>Rpi-userland</code> et les "Firmware Driver" dans le noyau.</p>
<h3 id="configuration-buildroot">Configuration Buildroot</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> raspberrypi3_defconfig</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> menuconfig</span></code></pre></div>
<pre class="text"><code>System configuration → System hostname (BR2_TARGET_GENERIC_HOSTNAME=&quot;buildrootqt5&quot;)
System configuration → Root password (BR2_TARGET_GENERIC_ROOT_PASSWD=&quot;root&quot;)
System configuration → remount root filesystem read-write during boot (BR2_TARGET_GENERIC_REMOUNT_ROOTFS_RW=n)
System configuration → Root filesystem overlay directories (BR2_ROOTFS_OVERLAY=output/rootfs_overlay)

Toolchain → Enable WCHAR support (BR2_TOOLCHAIN_BUILDROOT_WCHAR=y)
Target packages → Hardware handling → rpi-userland (BR2_PACKAGE_RPI_USERLAND=y)

Target packages → Graphic libraries and applications (graphic/text) → Qt5 (BR2_PACKAGE_QT5=y)
Target packages → Graphic libraries and applications (graphic/text) → Qt5 → Custom configuration options (BR2_PACKAGE_QT5BASE_CUSTOM_CONF_OPTS [=-skip qtconnectivity -skip qtnetwork -skip qtgamepad -no-feature-vnc -no-feature-accessibility -nomake tests])
Target packages → Graphic libraries and applications (graphic/text) → Qt5 → eglfs support (BR2_PACKAGE_QT5BASE_EGLFS=y)
Target packages → Graphic libraries and applications (graphic/text) → Qt5 → Default graphical platform (BR2_PACKAGE_QT5BASE_DEFAULT_QPA=&quot;eglfs&quot;)</code></pre>
<p>Peuvent être désactivés:</p>
<pre class="text"><code>Target packages → Graphic libraries and applications (graphic/text) → mesa3d (BR2_PACKAGE_MESA3D=n)
Target packages → Libraries → Graphics → libdrm (BR2_PACKAGE_LIBDRM=n)</code></pre>
<p>Les librairies C <code>uClibc-ng</code> et <code>glibc</code> fonctionnent avec ces modules Qt5 (<code>musl</code> n'a pas été testée) cependant certains packages comme <code>qt5webengine</code> nécessitent <code>glibc</code>. D'autres packages comme <code>qt5quickcontrols2</code>, <code>qt5graphicaleffects</code> et <code>qt5wayland</code> peuvent être ajoutés selon les besoins applicatifs (ce qui n'est pas le cas pour notre application de test).</p>
<p>Les options de compilation pour Qt peuvent être modifiées selon les besoins. Exemple: <em>-skip qtconnectivity -skip qtdoc -skip qtandroidextras -skip qtnetworkauth -skip qtpurchasing -skip qtgamepad -no-feature-vnc -no-feature-accessibility -no-feature udpsocket -no-feature-networkproxy -no-feature-socks5 -no-feature-networkdiskcache -no-feature-testlib -nomake tests</em>.</p>
<p>Sauvegarde de la configuration Buildroot:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> savedefconfig BR2_DEFCONFIG=./buildrootqt5.config</span></code></pre></div>
<h3 id="configuration-du-noyau-linux">Configuration du noyau Linux</h3>
<p>Pour la configuration du noyau, aucun pilote graphique particulier (DRM, VC4) n'est nécessaire, il faut veiller à la présence des "Firmware Driver" (présents par défaut):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> linux-menuconfig</span></code></pre></div>
<pre class="text"><code>Firmware Drivers → Raspberry Pi Firmware Driver (RASPBERRYPI_FIRMWARE=y)
Device Drivers → Graphics support → Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) (DRM=n)</code></pre>
<p>Sauvegarde de la configuration du noyau:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> output/build/linux-custom/.config linux.config</span></code></pre></div>
<h3 id="overlay">Overlay</h3>
<p>Pour inclure nos fichiers nous allons utiliser un overlay, tous les fichiers contenu dans <code>output/rootfs_overlay</code> (considéré par Buildroot comme référence à la racine) seront présents dans l'image finale.</p>
<p><code>output/rootfs_overlay/usr/share/fonts/dejavu-sans-webfont.ttf</code>: Qt5 ne fournit plus de police de caractères, il faut au minimum une police TTF sur le système. Buildroot peut également inclure des polices: <em>Target packages → Fonts, cursors, icons, sounds and themes → DejaVu fonts (BR2_PACKAGE_DEJAVU)</em>.</p>
<p><code>output/rootfs_overlay/root/test.sh</code>: script de lancement de l'application QML <code>box.qml</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_PLATFORM</span><span class="op">=</span>eglfs</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_EGLFS_INTEGRATION</span><span class="op">=</span>eglfs_brcm</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_EGLFS_ALWAYS_SET_MODE</span><span class="op">=</span>1</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_XKB_CONFIG_ROOT</span><span class="op">=</span>/tmp</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Backends Qt5 disponibles, à titre indicatif</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_PLATFORM_PLUGIN_PATH</span><span class="op">=</span>/usr/lib/qt/plugins/platforms</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Dossier des polices TTF</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_FONTDIR</span><span class="op">=</span>/usr/share/fonts</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Active le clavier dans le terminal en arrière plan (permet notamment le CTRL+C)</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_ENABLE_TERMINAL_KEYBOARD</span><span class="op">=</span>1</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a><span class="co">#Cache le curseur de la souris</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_EGLFS_HIDECURSOR</span><span class="op">=</span>1</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a><span class="ex">qmlscene</span> box.qml <span class="at">-platform</span> eglfs</span></code></pre></div>
<blockquote>
<p>Il n'est pas necéssaire d'utiliser <code>export LD_LIBRARY_PATH=/opt/vc/lib/:$LD_LIBRARY_PATH</code> car le package Rpi-userland place les librairies dans <code>/usr/lib</code> au lieu de <code>/opt/vc/lib</code>.</p>
</blockquote>
<p><code>output/rootfs_overlay/root/box.qml</code>: l'application QML de test qui sera exécutée avec <code>qmlscene</code>. Il s'agit d'une boîte rouge déplaçable avec les flềches du clavier et les cliques d'une souris.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode qml"><code class="sourceCode qml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">import</span><span class="im"> QtQuick 2.0</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="ot">Item</span> {</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">;</span> <span class="dt">height</span><span class="op">:</span> <span class="dv">600</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">focus</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">Keys</span><span class="op">.</span><span class="at">onPressed</span><span class="op">:</span> {</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (event<span class="op">.</span><span class="at">key</span> <span class="op">==</span> <span class="ex">Qt</span><span class="op">.</span><span class="at">Key_Enter</span>) {</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">x</span> <span class="op">=</span> <span class="dv">600</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">y</span> <span class="op">=</span> <span class="dv">400</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (event<span class="op">.</span><span class="at">key</span> <span class="op">==</span> <span class="ex">Qt</span><span class="op">.</span><span class="at">Key_Space</span>) {</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">x</span> <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">y</span> <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (event<span class="op">.</span><span class="at">key</span> <span class="op">==</span> <span class="ex">Qt</span><span class="op">.</span><span class="at">Key_Left</span>) {</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">x</span> <span class="op">=</span> rect<span class="op">.</span><span class="at">x</span> <span class="op">-</span> <span class="dv">50</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (event<span class="op">.</span><span class="at">key</span> <span class="op">==</span> <span class="ex">Qt</span><span class="op">.</span><span class="at">Key_Right</span>) {</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">x</span> <span class="op">=</span> rect<span class="op">.</span><span class="at">x</span> <span class="op">+</span> <span class="dv">50</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (event<span class="op">.</span><span class="at">key</span> <span class="op">==</span> <span class="ex">Qt</span><span class="op">.</span><span class="at">Key_Down</span>) {</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">y</span> <span class="op">=</span> rect<span class="op">.</span><span class="at">y</span> <span class="op">+</span> <span class="dv">50</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (event<span class="op">.</span><span class="at">key</span> <span class="op">==</span> <span class="ex">Qt</span><span class="op">.</span><span class="at">Key_Up</span>) {</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>            rect<span class="op">.</span><span class="at">y</span> <span class="op">=</span> rect<span class="op">.</span><span class="at">y</span> <span class="op">-</span> <span class="dv">50</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="ot">Rectangle</span> {</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>        anchors<span class="op">.</span><span class="at">fill</span><span class="op">:</span> parent</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">&quot;black&quot;</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    <span class="ot">Rectangle</span> {</span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>        <span class="dt">id</span><span class="op">:</span> rect</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>        <span class="dt">width</span><span class="op">:</span> <span class="dv">100</span><span class="op">;</span> <span class="dt">height</span><span class="op">:</span> <span class="dv">100</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>        <span class="ot">Behavior</span> on x { <span class="ot">PropertyAnimation</span> { <span class="dt">duration</span><span class="op">:</span> <span class="dv">500</span> } }</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>        <span class="ot">Behavior</span> on y { <span class="ot">PropertyAnimation</span> { <span class="dt">duration</span><span class="op">:</span> <span class="dv">500</span> } }</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>        <span class="ot">Text</span> {</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>            <span class="dt">text</span><span class="op">:</span> <span class="st">&quot;Hello</span><span class="sc">\n</span><span class="st">world!&quot;</span></span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>            font<span class="op">.</span><span class="at">pointSize</span><span class="op">:</span> <span class="dv">24</span><span class="op">;</span> font<span class="op">.</span><span class="at">bold</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    <span class="ot">MouseArea</span> {</span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>        anchors<span class="op">.</span><span class="at">fill</span><span class="op">:</span> parent</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>        <span class="dt">onClicked</span><span class="op">:</span> { rect<span class="op">.</span><span class="at">x</span> <span class="op">=</span> mouse<span class="op">.</span><span class="at">x</span><span class="op">;</span> rect<span class="op">.</span><span class="at">y</span> <span class="op">=</span> mouse<span class="op">.</span><span class="at">y</span><span class="op">;</span> }</span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<blockquote>
<p>Si la résolution est supérieur à 800x600 pixels, l'application utilisera l'ensemble de l'espace disponible sans tenir compte des dimmensions <code>width: 800; height: 600</code>.</p>
</blockquote>
<h3 id="compilation">Compilation</h3>
<p>Lancer la compilation et la création de l'image:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span></span></code></pre></div>
<p>Pour vérifier les options de compilation du package <code>qt5base</code>, notamment les backends disponibles:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> ./output/build/qt5base-5.15.2/config.summary</span></code></pre></div>
<pre class="text"><code>QPA backends:
  DirectFB ............................... no
  EGLFS .................................. yes
  EGLFS details:
    EGLFS OpenWFD ........................ no
    EGLFS i.Mx6 .......................... no
    EGLFS i.Mx6 Wayland .................. no
    EGLFS RCAR ........................... no
    EGLFS EGLDevice ...................... no
    EGLFS GBM ............................ no
    EGLFS VSP2 ........................... no
    EGLFS Mali ........................... no
    EGLFS Raspberry Pi ................... yes
    EGLFS X11 ............................ no
  LinuxFB ................................ no
  VNC .................................... no</code></pre>
<p>Copie de l'image générée vers la carte SD:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dd if=output/images/sdcard.img of=/dev/mmcblk0 status=progress</span></code></pre></div>
<p>Après démarrer le système sur le Raspberry, exécuter <code>test.sh</code>:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sh</span> test.sh</span></code></pre></div>
<h2 id="utiliser-eglfs_kms-comme-backend-au-lieu-de-eglfs_brcm"><a name="eglfs_kms"></a>Utiliser eglfs_kms comme backend au lieu de eglfs_brcm</h2>
<p>Au lieu d'utiliser le pilote propriétaire Broadcom, nous allons utiliser le backend OpenGLES libre fourni avec Mesa3d ainsi que le pilote VC4.</p>
<h3 id="configuration-buildroot-1">Configuration Buildroot</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> raspberrypi3_defconfig</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> menuconfig</span></code></pre></div>
<pre class="text"><code>System configuration → System hostname (BR2_TARGET_GENERIC_HOSTNAME=&quot;buildrootqt5&quot;)
System configuration → Root password (BR2_TARGET_GENERIC_ROOT_PASSWD=&quot;root&quot;)
System configuration → remount root filesystem read-write during boot (BR2_TARGET_GENERIC_REMOUNT_ROOTFS_RW=n)
System configuration → Root filesystem overlay directories (BR2_ROOTFS_OVERLAY=output/rootfs_overlay)
System configuration → Custom scripts to run before creating filesystem images (BR2_ROOTFS_POST_BUILD_SCRIPT=board/raspberrypi3/post-build.sh output/post-build-config.sh)

System configuration → /dev management (Dynamic using devtmpfs + eudev) (BR2_ROOTFS_DEVICE_CREATION_DYNAMIC_EUDEV=y)
Toolchain → Enable WCHAR support (BR2_TOOLCHAIN_BUILDROOT_WCHAR=y)

Target packages → Libraries → Graphics → libdrm (BR2_PACKAGE_LIBDRM=y)
Target packages → Libraries → Graphics → libdrm → vc4 (BR2_PACKAGE_LIBDRM_VC4=y)
Target packages → Graphic libraries and applications (graphic/text) → mesa3d (BR2_PACKAGE_MESA3D=y)
Target packages → Graphic libraries and applications (graphic/text) → mesa3d → Gallium vc4 driver (BR2_PACKAGE_MESA3D_GALLIUM_DRIVER_VC4=y)
Target packages → Graphic libraries and applications (graphic/text) → mesa3d → OpenGL ES (BR2_PACKAGE_MESA3D_OPENGL_ES=y)

Target packages → Graphic libraries and applications (graphic/text) → Qt5 (BR2_PACKAGE_QT5=y)
Target packages → Graphic libraries and applications (graphic/text) → Qt5 → Custom configuration options (BR2_PACKAGE_QT5BASE_CUSTOM_CONF_OPTS [=-skip qtconnectivity -skip qtnetwork -skip qtgamepad -no-feature-vnc -no-feature-accessibility -nomake tests])
Target packages → Graphic libraries and applications (graphic/text) → Qt5 → eglfs support (BR2_PACKAGE_QT5BASE_EGLFS=y)
Target packages → Graphic libraries and applications (graphic/text) → Qt5 → Default graphical platform (BR2_PACKAGE_QT5BASE_DEFAULT_QPA=&quot;eglfs&quot;)</code></pre>
<p>Les packages <em>mesa3d → OpenGL ES (BR2_PACKAGE_MESA3D_OPENGL_ES=y)</em> et <em>rpi-userland (BR2_PACKAGE_RPI_USERLAND=y)</em> ne peuvent cohabiter pour fournir un support OpenGLES.</p>
<p>Nous utiliserons un script post-build <code>output/post-build-config.sh</code> en plus de celui par défaut <code>board/raspberrypi3/post-build.sh</code>. Ils doivent être séparés par un espace.</p>
<p>L'utilisation de udev (eudev) est util pour la détection automatique des périphériques et charger les modules requis ce qui permettra de rendre disponible le GPU dans <code>/dev/dri/card0</code>. Il est possible de se passer de udev en chargeant les modules requis manuellement (cas exposé plus tard).</p>
<p>Pas besoin d'inclure mesa3d → Gallium v3d driver.</p>
<p>Sauvegarde de la configuration Buildroot:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> savedefconfig BR2_DEFCONFIG=./buildrootqt5_vc4.config</span></code></pre></div>
<h3 id="configuration-du-noyau-linux-1">Configuration du noyau Linux</h3>
<p>Pour la configuration du noyau, il faut inclure le pilote VC4:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> linux-menuconfig</span></code></pre></div>
<pre class="text"><code>Device Drivers → Graphics support → Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) (CONFIG_DRM=y)
Device Drivers → Graphics support → Broadcom VC4 Graphics (CONFIG_DRM_VC4=m)</code></pre>
<blockquote>
<p>Pas besoin d'inclure <em>Device Drivers → Graphics support → Broadcom V3D 3.x and newer (CONFIG_DRM_V3D)</em></p>
</blockquote>
<p>Sauvegarde de la configuration du noyau:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> output/build/linux-custom/.config linux_vc4.config</span></code></pre></div>
<h3 id="overlay-1">Overlay</h3>
<p>Le contenu de l'overlay <code>output/rootfs_overlay</code> reste le même sauf pour le script <code>output/rootfs_overlay/root/test.sh</code> qui intègre une valeur différente pour <code>QT_QPA_EGLFS_INTEGRATION</code> et une nouvelle variable <code>QT_QPA_EGLFS_NO_LIBINPUT</code>:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_PLATFORM</span><span class="op">=</span>eglfs</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_EGLFS_INTEGRATION</span><span class="op">=</span>eglfs_kms</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_EGLFS_ALWAYS_SET_MODE</span><span class="op">=</span>1</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_XKB_CONFIG_ROOT</span><span class="op">=</span>/tmp</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Backends Qt5 disponibles, à titre indicatif</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_PLATFORM_PLUGIN_PATH</span><span class="op">=</span>/usr/lib/qt/plugins/platforms</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Dossier des polices TTF</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_FONTDIR</span><span class="op">=</span>/usr/share/fonts</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Active le clavier dans le terminal en arrière plan (permet notamment le CTRL+C)</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_ENABLE_TERMINAL_KEYBOARD</span><span class="op">=</span>1</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">#Désactive Libinput, corrige le problème de clavier non fonctionnel</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_EGLFS_NO_LIBINPUT</span><span class="op">=</span>1</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co">#Cache le curseur de la souris</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">QT_QPA_EGLFS_HIDECURSOR</span><span class="op">=</span>1</span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="ex">qmlscene</span> box.qml <span class="at">-platform</span> eglfs</span></code></pre></div>
<blockquote>
<p>Avec l'ajout de udev, Qt5 utilise son composant evdev qui nécessite la désactivation de Libinput avec <code>QT_QPA_EGLFS_NO_LIBINPUT=1</code>.</p>
</blockquote>
<h3 id="script-post-build">Script post-build</h3>
<p>Le chargement du pilote VC4 au démarrage nécessite l'ajout des directives <code>gpu_mem=128</code> et <code>dtoverlay=vc4-kms-v3d</code> dans le fichier <code>config.txt</code> de la partition de boot. Pour cela nous utiliserons un script post-build <code>post-build-config.sh</code> dans le dossier <code>output/</code> (déjà configuré dans Buildroot).</p>
<p>post-build-config.sh:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-u</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> <span class="at">-e</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="ot">! </span><span class="fu">grep</span> <span class="at">-qE</span> <span class="st">&#39;^gpu_mem=128&#39;</span> <span class="st">&quot;</span><span class="va">${BINARIES_DIR}</span><span class="st">/rpi-firmware/config.txt&quot;</span>  <span class="kw">&amp;&amp;</span> <span class="ex">!</span> grep <span class="at">-qE</span> <span class="st">&#39;^dtoverlay=vc4-kms-v3d&#39;</span> <span class="st">&quot;</span><span class="va">${BINARIES_DIR}</span><span class="st">/rpi-firmware/config.txt&quot;</span><span class="kw">;</span> <span class="cf">then</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">&quot;Adding &#39;gpu_mem=128&#39; and &#39;dtoverlay=vc4-kms-v3d&#39; to config.txt (load VC4).&quot;</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">&quot;gpu_mem=128&quot;</span> <span class="op">&gt;&gt;</span> <span class="st">&quot;</span><span class="va">${BINARIES_DIR}</span><span class="st">/rpi-firmware/config.txt&quot;</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">echo</span> <span class="st">&quot;dtoverlay=vc4-kms-v3d&quot;</span> <span class="op">&gt;&gt;</span> <span class="st">&quot;</span><span class="va">${BINARIES_DIR}</span><span class="st">/rpi-firmware/config.txt&quot;</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="cf">fi</span></span></code></pre></div>
<p>Ne pas oublier de donner les droits d'exécution avec <code>chmod +x output/post-build-config.sh</code>.</p>
<h3 id="compilation-1">Compilation</h3>
<p>Lancer la compilation et la création de l'image:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span></span></code></pre></div>
<p>Pour vérifier les options de compilation du package <code>qt5base</code>, notamment les backends disponibles:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> ./output/build/qt5base-5.15.2/config.summary</span></code></pre></div>
<pre class="text"><code>QPA backends:
  DirectFB ............................... no
  EGLFS .................................. yes
  EGLFS details:
    EGLFS OpenWFD ........................ no
    EGLFS i.Mx6 .......................... no
    EGLFS i.Mx6 Wayland .................. no
    EGLFS RCAR ........................... no
    EGLFS EGLDevice ...................... yes
    EGLFS GBM ............................ yes
    EGLFS VSP2 ........................... no
    EGLFS Mali ........................... no
    EGLFS Raspberry Pi ................... no
    EGLFS X11 ............................ no
  LinuxFB ................................ no
  VNC .................................... no</code></pre>
<p>Copie de l'image générée vers la carte SD:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> dd if=output/images/sdcard.img of=/dev/mmcblk0 status=progress</span></code></pre></div>
<p>Après démarrer le système sur le Raspberry, exécuter <code>test.sh</code> pour lancer l'application QML:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sh</span> test.sh</span></code></pre></div>
<h3 id="se-passer-de-udev-eudev">Se passer de udev (eudev)</h3>
<p>Il est possible de ne pas inclure udev (dans Buildroot: <em>System configuration → /dev management</em>). Les modules chargés automatiquement par udev (liste récupérée avec <code>lsmod</code>):</p>
<pre class="text"><code>Module                  Size  Used by    Tainted: G  
snd_soc_hdmi_codec     20480  1 
brcmfmac              327680  0 
brcmutil               24576  1 brcmfmac
sha256_generic         16384  0 
libsha256              20480  1 sha256_generic
vc4                   249856  2 
snd_soc_core          229376  2 snd_soc_hdmi_codec,vc4
snd_compress           20480  1 snd_soc_core
cfg80211              782336  1 brcmfmac
snd_pcm_dmaengine      16384  1 snd_soc_core
snd_pcm               114688  4 snd_soc_hdmi_codec,snd_soc_core,snd_compress,snd_pcm_dmaengine
snd_timer              36864  1 snd_pcm
snd                    77824  5 snd_soc_hdmi_codec,snd_soc_core,snd_compress,snd_pcm,snd_timer
raspberrypi_hwmon      16384  0 
i2c_bcm2835            16384  0 
vc_sm_cma              32768  0 
uio_pdrv_genirq        16384  0 
uio                    20480  1 uio_pdrv_genirq
fixed                  16384  0 </code></pre>
<p>Pour se passer de udev et obtenir <code>/dev/dri/card0</code>, certains modules doivent être chargés (via un script ou manuellement) avec <code>modprobe</code>:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/sh</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="ex">modprobe</span> snd_soc_hdmi_codec</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="ex">modprobe</span> i2c_bcm2835</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="ex">modprobe</span> vc4</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="ex">modprobe</span> vc_sm_cma</span></code></pre></div>
<p>Résultat dans <code>dmesg</code>:</p>
<pre class="text"><code>[   40.318528] fb0: switching to vc4drmfb from simple
[   40.325374] Console: switching to colour dummy device 80x30
[   40.662845] vc4-drm soc:gpu: bound 3f400000.hvs (ops vc4_hvs_ops [vc4])
[   40.677294] vc4-drm soc:gpu: bound 3f902000.hdmi (ops vc4_hdmi_ops [vc4])
[   40.684485] vc4-drm soc:gpu: bound 3f806000.vec (ops vc4_vec_ops [vc4])
[   40.691473] vc4-drm soc:gpu: bound 3f004000.txp (ops vc4_txp_ops [vc4])
[   40.698433] vc4-drm soc:gpu: bound 3f206000.pixelvalve (ops vc4_crtc_ops [vc4])
[   40.706101] vc4-drm soc:gpu: bound 3f207000.pixelvalve (ops vc4_crtc_ops [vc4])
[   40.713734] vc4-drm soc:gpu: bound 3f807000.pixelvalve (ops vc4_crtc_ops [vc4])
[   40.721306] vc4-drm soc:gpu: bound 3fc00000.v3d (ops vc4_v3d_ops [vc4])
[   40.731228] [drm] Initialized vc4 0.0.0 20140616 for soc:gpu on minor 0
[   40.881762] Console: switching to colour frame buffer device 240x67
[   40.921477] vc4-drm soc:gpu: [drm] fb0: vc4drmfb frame buffer device
[   41.002400] vc_sm_cma: module is from the staging directory, the quality is unknown, you have been warned.
[   41.014768] bcm2835_vc_sm_cma_probe: Videocore shared memory driver
[   41.021175] [vc_sm_connected_init]: start
[   41.026489] [vc_sm_connected_init]: installed successfully</code></pre>
<h2 id="liens-complémentaires">Liens complémentaires</h2>
<ul>
<li><a href="https://buildroot.org/downloads/manual/manual.html">https://buildroot.org/downloads/manual/manual.html</a></li>
<li><a href="https://doc.qt.io/qt-5/inputs-linux-device.html">https://doc.qt.io/qt-5/inputs-linux-device.html</a></li>
<li><a href="https://doc.qt.io/archives/qt-5.6/embedded-linux.html">https://doc.qt.io/archives/qt-5.6/embedded-linux.html</a></li>
<li><a href="https://doc.qt.io/qt-5/qtquickcontrols-index.html#versions">https://doc.qt.io/qt-5/qtquickcontrols-index.html#versions</a></li>
<li><a href="https://doc.qt.io/qt-5/configure-options.html">https://doc.qt.io/qt-5/configure-options.html</a></li>
</ul>
  <em>©2015-2022 C. Boyer, contenu sous <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.fr">CC BY-SA-NC 4.0</a>, codes sources sous <a href="https://www.gnu.org/licenses/gpl-3.0.fr.html">GNU GPL v3</a></em>
</body>
</html>
